{"version":3,"file":"File.js","mappings":"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","names":["File","element","_classCallCheck","_this","_defineProperty","dataTransfer","DataTransfer","input","$element","querySelector","button","document","createElement","classList","add","textContent","appendChild","ul","innerHTML","Array","from","files","reverse","map","file","idx","name","lastModified","join","addEventListener","click","console","log","_this2","forEach","_this2$dataTransfer","items","_this2$dataTransfer2","_this2$input2","_this2$dataTransfer3","_this2$input3","render","target","contains","remove","findIndex","parseInt","dataset","Component"],"sources":["../form-component/file/File.js"],"sourcesContent":["import Component from \"../../basic/Component.js\";\r\n\r\nexport default class File extends Component {\r\n    input;\r\n    button;\r\n    dataTransfe;\r\n\r\n    constructor(element) {\r\n        super(element);\r\n    }\r\n\r\n    setElements() {\r\n        this.dataTransfer = new DataTransfer();\r\n        this.input = this.$element.querySelector('.form-file-input');\r\n    }\r\n\r\n    setTemplate() {\r\n        this.button = document.createElement('button');\r\n        this.button.classList.add('file-btn');\r\n        this.button.textContent = \"파일 등록\"\r\n        this.$element.appendChild(this.button);\r\n        const ul = document.createElement('ul')\r\n\r\n        this.$element.appendChild(ul)\r\n    }\r\n\r\n    render() {\r\n        this.$element.querySelector('ul').innerHTML = Array.from(this.input.files).reverse().map((file, idx) => `\r\n            <li>${file.name}<button type=\"button\"  class=\"deleteFileBtn\" data-idx=${file.lastModified}>삭제</button></li>\r\n        `).join('');\r\n    }\r\n\r\n    setEvents() {\r\n        this.button?.addEventListener('click', () => {\r\n            this.input?.click();\r\n        })\r\n\r\n        this.input?.addEventListener('change', () => {\r\n            console.log(this.input.files[0]);\r\n            Array.from(this.input.files).forEach(file => this.dataTransfer?.items.add(file));\r\n            console.log(this.dataTransfer?.files, this.input?.files);\r\n            this.input.files = this.dataTransfer.files;\r\n            console.log(this.dataTransfer?.files, this.input?.files);\r\n            this.render();\r\n        })\r\n\r\n        this.$element.addEventListener('click', ({target}) => {\r\n            if(target.classList.contains('deleteFileBtn')) {\r\n                this.dataTransfer?.items.remove(Array.from(this.dataTransfer.files).findIndex((file, idx) => (file.lastModified == parseInt(target.dataset.idx, 10))));\r\n                this.input.files = this.dataTransfer.files;\r\n                this.render();\r\n            }\r\n        })\r\n    }\r\n}"]}