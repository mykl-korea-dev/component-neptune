{"version":3,"file":"ImageSlide.js","names":["ImageSlide","$element","querySelector","addEventListener","throttle","clickPrevBtn","bind","getBoundingClientRect","groupWidth","width","lastImage","lastElementChild","lastImgWidth","lastImgX","x","querySelectorAll","forEach","el","i","currentPosX","style","transform","replace","Number","window","setElements","func","delay","lastFunc","lastRan","args","context","call","Date","now","clearTimeout","setTimeout","firstImage","firstElementChild","firstImgWidth","firstImgX","console","log","Component","document"],"sources":["../component-set/imageSlide/ImageSlide.js"],"sourcesContent":["import Component from \"../../basic/Component.js\";\r\n\r\nexport default class ImageSlide extends Component {\r\n    setEvents() {\r\n        this.$element.querySelector('.prev').addEventListener('click', this.throttle(this.clickPrevBtn.bind(this), 500))\r\n        this.$element.querySelector('.next').addEventListener('click', () => {\r\n            const { width: groupWidth } = this.$element.querySelector('.slider-group').getBoundingClientRect();\r\n            const lastImage = this.$element.querySelector('.slider-group').lastElementChild;\r\n            const { width: lastImgWidth , x: lastImgX } = lastImage.getBoundingClientRect();\r\n            if(lastImgX + lastImgWidth <= groupWidth) {\r\n                return;\r\n            }\r\n\r\n            this.$element.querySelectorAll('.slide-item').forEach((el, i) => {\r\n                const currentPosX = el.style.transform.replace(/translateX\\(|px\\)/gi, \"\");\r\n                el.style.transform = `translateX(${Number(currentPosX) - Number(groupWidth)}px)`;\r\n            })\r\n        })\r\n\r\n        window.addEventListener('resize', this.setElements.bind(this));\r\n    }\r\n\r\n    throttle(func, delay) {\r\n        let lastFunc;\r\n        let lastRan;\r\n        return function(...args) {\r\n            const context = this;\r\n            if(!lastRan) {\r\n                func.call(context, ...args);\r\n                lastRan = Date.now();\r\n            } else {\r\n                if (lastRan) clearTimeout(lastFunc);\r\n                lastFunc = setTimeout(function() {\r\n                    if((Date.now() - lastRan) >= delay) {\r\n                        func.call(context, ...args);\r\n                        lastRan = Date.now();\r\n                    }\r\n                }, delay - (Date.now() - lastRan));\r\n            }\r\n        }\r\n    }\r\n\r\n    clickPrevBtn() {\r\n        const firstImage = this.$element.querySelector('.slider-group').firstElementChild;\r\n        const { width: firstImgWidth , x: firstImgX } = firstImage.getBoundingClientRect();\r\n        console.log(firstImgX, firstImgWidth, firstImgX)\r\n        if(firstImgX <= firstImgWidth && firstImgX >= 0) {\r\n            return;\r\n        }\r\n        const { width: groupWidth } = this.$element.querySelector('.slider-group').getBoundingClientRect();\r\n        this.$element.querySelectorAll('.slide-item').forEach((el, i) => {\r\n            const currentPosX = el.style.transform.replace(/translateX\\(|px\\)/gi, \"\");\r\n            el.style.transform = `translateX(${Number(currentPosX) + Number(groupWidth)}px)`;\r\n        })\r\n    }\r\n\r\n}\r\n\r\ndocument.querySelectorAll('.image-slide').forEach(el => new ImageSlide(el));"],"mappings":"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"}