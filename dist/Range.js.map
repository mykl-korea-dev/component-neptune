{"version":3,"file":"Range.js","mappings":"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","names":["Range","$element","dataset","min","max","value","step","template","document","createElement","fragment","DocumentFragment","innerHTML","parseInt","appendChild","content","i","span","classList","add","style","left","querySelector","slider","range","thumbLeft","thumbRight","right","inputLeft","inputRight","addEventListener","e","Math","toString","inputValue","percent","Component"],"sources":["../form-component/range/Range.js"],"sourcesContent":["import Component from \"../../basic/Component.js\";\r\n\r\nexport default class Range extends Component {\r\n    setElements() {\r\n        const {min, max, value, step} = this.$element.dataset;\r\n        const template = document.createElement('template');\r\n        const fragment = new DocumentFragment();\r\n\r\n        template.innerHTML = `\r\n            <input type=\"range\" class=\"input-left\" name=\"max\" min=${min} max=${max} value=${value} step=${step}>\r\n            <input type=\"range\" class=\"input-right\" name=\"max\" min=${min} max=${max} value=${parseInt(max, 10) - parseInt(value, 10)} step=${step}>\r\n\r\n            <div class=\"slider\">\r\n                <div class=\"track\"></div>\r\n                <div class=\"range\"></div>\r\n                <div class=\"thumb left\"></div>\r\n                <div class=\"thumb right\"></div>\r\n            </div>`\r\n        fragment.appendChild(template.content);\r\n        this.$element?.appendChild(fragment);\r\n\r\n        if(min &&  max && step && value) {\r\n            for (let i = parseInt(min, 10)+parseInt(step, 10); i < parseInt(max, 10); i += parseInt(step, 10)) {\r\n                const span = document.createElement('span');\r\n                span.classList.add('step');\r\n                span.style.left = `${i}%`\r\n                this.$element.querySelector('.slider')?.appendChild(span)\r\n            }\r\n        }\r\n\r\n\r\n        const slider = document.querySelector('.slider');\r\n        const range = slider?.querySelector('.range');\r\n        const thumbLeft = slider.querySelector('.slider .thumb.left');\r\n        const thumbRight = slider.querySelector('.thumb.right');\r\n        thumbLeft.style.left = `${value}%`;\r\n        range.style.left = `${value}%`;\r\n        range.style.right = `${parseInt(value, 10) -3}%`;\r\n        thumbRight.style.right = `${parseInt(value, 10)  -3}%`;\r\n    }\r\n\r\n    setEvents() {\r\n        const slider = document.querySelector('.slider');\r\n        const range = slider?.querySelector('.range');\r\n        const thumbLeft = slider.querySelector('.slider .thumb.left');\r\n        const thumbRight = slider.querySelector('.thumb.right');\r\n        const inputLeft = document.querySelector('.input-left');\r\n        const inputRight = document.querySelector('.input-right');\r\n\r\n        inputLeft?.addEventListener('input', (e) => {\r\n            const [min, max] = [parseInt(inputLeft.min), parseInt(inputLeft.max)];\r\n            inputLeft.value = Math.min(parseInt(inputLeft.value), parseInt(inputRight.value) - parseInt(inputLeft.step)).toString();\r\n\r\n            const inputValue = parseInt(inputLeft.value, 10)\r\n            const percent = ((inputValue - min) / (max-min)) * 100;\r\n            thumbLeft.style.left = `${percent}%`;\r\n            range.style.left = `${percent}%`;\r\n        })\r\n\r\n        inputRight?.addEventListener('input', (e) => {\r\n            const [min, max] = [parseInt(inputRight.min), parseInt(inputRight.max)];\r\n            inputRight.value = Math.max(parseInt(inputRight.value), parseInt(inputLeft.value) + parseInt(inputRight.step)).toString();\r\n\r\n            const inputValue = parseInt(inputRight.value, 10)\r\n            const percent = ((inputValue - min) / (max-min)) * 100;\r\n            thumbRight.style.right = `${100 - percent - 3}%`;\r\n            range.style.right = `${100 - percent - 2}%`;\r\n        })\r\n    }\r\n}\r\n\r\n"]}