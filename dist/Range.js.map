{"version":3,"file":"Range.js","mappings":"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","names":["Range","$element","dataset","strMin","min","strMax","max","strMinVal","minValue","strMaxVal","maxValue","strStep","step","map","parseInt","val","innerHTML","querySelector","el","getBoundingClientRect","width","rangeWidth","thumbWidth","trackWidth","totalSize","i","span","document","createElement","classList","add","style","left","appendChild","slider","range","thumbLeft","thumbRight","textContent","value","right","inputLeft","inputRight","addEventListener","Math","toString","inputValue","_this","Component"],"sources":["../form-component/range/Range.js"],"sourcesContent":["import Component from \"./Component.js\";\r\n\r\nexport default class Range extends Component {\r\n    setElements() {\r\n        const {min: strMin, max: strMax, minValue: strMinVal, maxValue: strMaxVal, step: strStep} = this.$element.dataset;\r\n        const [min, max, minValue, maxValue, step] = [strMin, strMax, strMinVal, strMaxVal, strStep].map(val => parseInt(val, 10));\r\n        this.$element.innerHTML = `\r\n            <input type=\"range\" class=\"input-left\" name=\"max\" min=${min} max=${max} value=${minValue} step=${step}>\r\n            <input type=\"range\" class=\"input-right\" name=\"max\" min=${min} max=${max} value=${maxValue} step=${step}>\r\n\r\n            <div class=\"slider\">\r\n                <div class=\"track\"></div>\r\n                <div class=\"range\"></div>\r\n                <div class=\"thumb left\"><span class=\"thumb-min\"></span></div>\r\n                <div class=\"thumb right\"><span class=\"thumb-max\"></span></div>\r\n            </div>`;\r\n\r\n        const [ rangeWidth, thumbWidth ] = [this.$element, this.$element.querySelector('.thumb')].map(el => el.getBoundingClientRect().width);\r\n        const trackWidth = rangeWidth - thumbWidth;\r\n        const totalSize = (max - min) / step;\r\n        if((min >= 0) &&  max && step && minValue) {\r\n            for (let i = 1; i < totalSize; i += 1) {\r\n                const span = document.createElement('span');\r\n                span.classList.add('step');\r\n                span.style.left = `${trackWidth * ((max - min) / step * i)/ 100}px`;\r\n                this.$element.querySelector('.slider')?.appendChild(span)\r\n            }\r\n        }\r\n\r\n        const slider = this.$element.querySelector('.slider');\r\n        const range = slider?.querySelector('.range');\r\n        const thumbLeft = slider.querySelector('.slider .thumb.left');\r\n        const thumbRight = slider.querySelector('.thumb.right');\r\n        slider.querySelector('.thumb-min').textContent = this.$element.querySelector(\".input-left\").value;\r\n        slider.querySelector('.thumb-max').textContent = this.$element.querySelector(\".input-right\").value;\r\n        thumbLeft.style.left = `${trackWidth * ((max - min) / step * (minValue / step)) / 100}px`;\r\n        range.style.left = `${trackWidth * ((max - min) / step * (minValue / step)) / 100}px`;\r\n        range.style.right = `${trackWidth * ((max - min) / step * ((max - maxValue) / step)) / 100}px`;\r\n        thumbRight.style.left = `${trackWidth * ((max - min) / step * (maxValue / step)) / 100}px`;\r\n    }\r\n\r\n    setEvents() {\r\n        const [ rangeWidth, thumbWidth ] = [this.$element, this.$element.querySelector('.thumb')].map(el => el.getBoundingClientRect().width);\r\n        const trackWidth = rangeWidth - thumbWidth;\r\n        const slider = this.$element.querySelector('.slider');\r\n        const range = slider?.querySelector('.range');\r\n        const thumbLeft = slider.querySelector('.slider .thumb.left');\r\n        const thumbRight = slider.querySelector('.thumb.right');\r\n        const inputLeft = this.$element.querySelector('.input-left');\r\n        const inputRight = this.$element.querySelector('.input-right');\r\n        inputLeft?.addEventListener('input', () => {\r\n            const [min, max, step] = [parseInt(inputLeft.min), parseInt(inputLeft.max), parseInt(inputLeft.step)];\r\n            inputLeft.value = Math.min(parseInt(inputLeft.value), parseInt(inputRight.value) - parseInt(inputLeft.step)).toString();\r\n\r\n            const inputValue = parseInt(inputLeft.value, 10)\r\n            thumbLeft.style.left = `${trackWidth * ((max - min) / step * (inputValue / step)) / 100}px`;\r\n            range.style.left = `${trackWidth * ((max - min) / step * (inputValue / step)) / 100}px`;\r\n            slider.querySelector('.thumb-min').textContent = this.$element.querySelector(\".input-left\").value;\r\n\r\n        })\r\n\r\n        inputRight?.addEventListener('input', () => {\r\n            const [min, max, step] = [parseInt(inputRight.min), parseInt(inputRight.max), parseInt(inputRight.step)];\r\n            inputRight.value = Math.max(parseInt(inputRight.value), parseInt(inputLeft.value) + parseInt(inputRight.step)).toString();\r\n\r\n            const inputValue = parseInt(inputRight.value, 10)\r\n            thumbRight.style.left = `${trackWidth * ((max - min) / step * (inputValue / step)) / 100}px`;\r\n            range.style.right = `${trackWidth - (trackWidth * ((max - min) / step * (inputValue / step)) / 100)}px`;\r\n            slider.querySelector('.thumb-max').textContent = this.$element.querySelector(\".input-right\").value;\r\n        })\r\n    }\r\n\r\n    setThumbLeft() {\r\n        const [ rangeWidth, thumbWidth ] = [this.$element, this.$element.querySelector('.thumb')].map(el => el.getBoundingClientRect().width);\r\n        const trackWidth = rangeWidth - thumbWidth;\r\n        return `${trackWidth * ((max - min) / step * (inputValue / step)) / 100}px`;\r\n    }\r\n\r\n    setThumbRight() {\r\n\r\n    }\r\n}\r\n\r\n"]}