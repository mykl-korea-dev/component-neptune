{"version":3,"file":"SelectAjax.js","names":["SelectAjax","select","$element","querySelector","console","log","$data","innerHTML","map","el","value","text","join","options","Array","from","querySelectorAll","template","document","createElement","fragment","DocumentFragment","selectedIndex","textContent","i","appendChild","content","selectedDiv","selectDiv","addEventListener","e","closeAllSelect","target","classList","toggle","removeAttribute","length","add","Component"],"sources":["../form-component/ajax/selectAjax/SelectAjax.js"],"sourcesContent":["import Component from \"../../../basic/Component.js\";\r\nimport { closeAllSelect } from \"../../../basic/utils.js\";\r\n\r\n\r\nexport default class SelectAjax extends Component{\r\n    setElements() {\r\n        this.select = this.$element.querySelector('selectAjax');\r\n        console.log(this.select, this.$data);\r\n        this.select.innerHTML = `${this.$data.map(el => `<option value=\"${el.value}\">${el.text}</option>`).join('')}`;\r\n        this.options = Array.from(this.$element.querySelectorAll('option'));\r\n        let template = document.createElement('template');\r\n        let fragment = new DocumentFragment();\r\n        template.innerHTML = `\r\n            <div class=\"select-group\">\r\n                <div class=\"select-selected\">\r\n                    ${this.select?.options[this.select.selectedIndex].textContent}\r\n                </div>\r\n                <div class=\"select-items select-hide\">\r\n                    ${this.options?.map((el, i)=> i === 0 ? '' : `<div>${el.textContent}</div>`).join('')}\r\n                </div>\r\n            </div>\r\n            `\r\n        fragment.appendChild(template.content);\r\n\r\n        this.$element.appendChild(fragment);\r\n    }\r\n\r\n    setEvents() {\r\n        const selectedDiv = this.$element.querySelector('.selectAjax-selected');\r\n        const selectDiv = this.$element.querySelector('.selectAjax-items');\r\n\r\n        document.addEventListener('click', (e) => closeAllSelect(e.target))\r\n\r\n        selectedDiv?.addEventListener('click', function () {\r\n            selectDiv?.classList.toggle('selectAjax-hide');\r\n            selectedDiv?.classList.toggle('selectAjax-arrow-active');\r\n        })\r\n\r\n        selectDiv?.addEventListener('click', (e) => {\r\n            this.$element.querySelector('.same-as-selected')?.removeAttribute('class');\r\n            const target = e.target;\r\n            for (let i = 0; i < this.options.length; i++) {\r\n                if(this.select?.options[i].innerHTML === target?.textContent) {\r\n                    this.select.selectedIndex = i;\r\n                    selectedDiv.textContent = target.textContent;\r\n                    target.classList.add('same-as-selected');\r\n                    selectDiv?.classList.toggle('selectAjax-hide');\r\n                    selectedDiv?.classList.toggle('selectAjax-arrow-active');\r\n                    break;\r\n                }\r\n            }\r\n        })\r\n    }\r\n}"],"mappings":"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"}