{"version":3,"file":"emotion.js","names":["Emotion","$element","innerHTML","setTemplate","regex","querySelector","addEventListener","target","clickedEl","className","replace","classList","add","getBoundingClientRect","width","style","left","Number","verticalAlign","display","contains","textContent","Component"],"sources":["../ui-component/emotion/emotion.js"],"sourcesContent":["import Component from \"../../basic/Component.js\";\r\n\r\nexport default class Emotion extends Component {\r\n    setTemplate() {\r\n        return `   \r\n            <div class=\"clicked-emotion\">+</div> \r\n            <div class=\"emotion-group\">\r\n                <div class=\"emotion-good\"></div>\r\n                <div class=\"emotion-sad\"></div>\r\n                <div class=\"emotion-like\"></div>\r\n                <div class=\"emotion-bad\"></div>\r\n                <div class=\"emotion-thumbsUp\"></div>\r\n                <div class=\"emotion-thumbsDown\"></div>\r\n            </div>\r\n        `\r\n    }\r\n\r\n    render() {\r\n        this.$element.innerHTML = this.setTemplate();\r\n    }\r\n\r\n    setEvents() {\r\n        const regex = /emotion-good|emotion-sad|emotion-like|emotion-bad|emotion-thumbsUp|emotion-thumbsDown/g;\r\n\r\n        this.$element.querySelector('.emotion-group').addEventListener('click', ({target}) => {\r\n            const clickedEl = this.$element.querySelector('.clicked-emotion');\r\n            clickedEl.className = clickedEl.className.replace(regex, '');\r\n            clickedEl.classList.add(target.classList);\r\n            clickedEl.innerHTML = `<span class=\"remove-emotion\">x</span>`;\r\n            const { width } = clickedEl.getBoundingClientRect();\r\n            this.$element.querySelector('.remove-emotion').style.left = Number(width) + 10 + 'px';\r\n            clickedEl.style.verticalAlign = \"middle\";\r\n            this.$element.querySelector('.emotion-group').style.display = \"none\";\r\n        })\r\n\r\n        this.$element.addEventListener('click', ({target}) => {\r\n            if(target.classList.contains('clicked-emotion')) {\r\n                this.$element.querySelector('.emotion-group').style.display = \"block\";\r\n            }\r\n\r\n\r\n            if(target.classList.contains('remove-emotion')) {\r\n                const clickedEl = this.$element.querySelector('.clicked-emotion');\r\n                clickedEl.className = clickedEl.className.replace(regex, '');\r\n                clickedEl.textContent = \"+\";\r\n            }\r\n\r\n\r\n        })\r\n    }\r\n}\r\n\r\n// document.querySelectorAll('.emotion').forEach(el => new Emotion(el));"],"mappings":";;;;;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;IAEqBA,O;;;;;;;;;;;;;WACjB,uBAAc;MACV;IAWH;;;WAED,kBAAS;MACL,KAAKC,QAAL,CAAcC,SAAd,GAA0B,KAAKC,WAAL,EAA1B;IACH;;;WAED,qBAAY;MAAA;;MACR,IAAMC,KAAK,GAAG,wFAAd;MAEA,KAAKH,QAAL,CAAcI,aAAd,CAA4B,gBAA5B,EAA8CC,gBAA9C,CAA+D,OAA/D,EAAwE,gBAAc;QAAA,IAAZC,MAAY,QAAZA,MAAY;;QAClF,IAAMC,SAAS,GAAG,KAAI,CAACP,QAAL,CAAcI,aAAd,CAA4B,kBAA5B,CAAlB;;QACAG,SAAS,CAACC,SAAV,GAAsBD,SAAS,CAACC,SAAV,CAAoBC,OAApB,CAA4BN,KAA5B,EAAmC,EAAnC,CAAtB;QACAI,SAAS,CAACG,SAAV,CAAoBC,GAApB,CAAwBL,MAAM,CAACI,SAA/B;QACAH,SAAS,CAACN,SAAV;;QACA,4BAAkBM,SAAS,CAACK,qBAAV,EAAlB;QAAA,IAAQC,KAAR,yBAAQA,KAAR;;QACA,KAAI,CAACb,QAAL,CAAcI,aAAd,CAA4B,iBAA5B,EAA+CU,KAA/C,CAAqDC,IAArD,GAA4DC,MAAM,CAACH,KAAD,CAAN,GAAgB,EAAhB,GAAqB,IAAjF;QACAN,SAAS,CAACO,KAAV,CAAgBG,aAAhB,GAAgC,QAAhC;QACA,KAAI,CAACjB,QAAL,CAAcI,aAAd,CAA4B,gBAA5B,EAA8CU,KAA9C,CAAoDI,OAApD,GAA8D,MAA9D;MACH,CATD;MAWA,KAAKlB,QAAL,CAAcK,gBAAd,CAA+B,OAA/B,EAAwC,iBAAc;QAAA,IAAZC,MAAY,SAAZA,MAAY;;QAClD,IAAGA,MAAM,CAACI,SAAP,CAAiBS,QAAjB,CAA0B,iBAA1B,CAAH,EAAiD;UAC7C,KAAI,CAACnB,QAAL,CAAcI,aAAd,CAA4B,gBAA5B,EAA8CU,KAA9C,CAAoDI,OAApD,GAA8D,OAA9D;QACH;;QAGD,IAAGZ,MAAM,CAACI,SAAP,CAAiBS,QAAjB,CAA0B,gBAA1B,CAAH,EAAgD;UAC5C,IAAMZ,SAAS,GAAG,KAAI,CAACP,QAAL,CAAcI,aAAd,CAA4B,kBAA5B,CAAlB;;UACAG,SAAS,CAACC,SAAV,GAAsBD,SAAS,CAACC,SAAV,CAAoBC,OAApB,CAA4BN,KAA5B,EAAmC,EAAnC,CAAtB;UACAI,SAAS,CAACa,WAAV,GAAwB,GAAxB;QACH;MAGJ,CAbD;IAcH;;;;EA/CgCC,sB,GAkDrC"}