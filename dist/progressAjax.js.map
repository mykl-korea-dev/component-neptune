{"version":3,"file":"progressAjax.js","mappings":";;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEqBA,Y;;;;;;;;;;;;;WACjB,uBAAc;MACV;MACA;MACA;MAEA,kBAA0B,KAAKC,KAA/B;MAAA,IAAOC,GAAP,eAAOA,GAAP;MAAA,IAAYC,GAAZ,eAAYA,GAAZ;MAAA,IAAiBC,KAAjB,eAAiBA,KAAjB;MACAC,OAAO,CAACC,GAARD,CAAY,KAAKJ,KAAjBI,EANU,CAOV;;MACA,KAAKE,QAAL,CAAcC,KAAd,CAAoBC,KAApB;MACA,KAAKF,QAAL,CAAcG,aAAd,CAA4B,eAA5B,EAA6CF,KAA7C,CAAmDC,KAAnD,aAA8DE,MAAM,CAACP,KAAD,CAANO,IAAiBA,MAAM,CAACR,GAAD,CAANQ,GAAYA,MAAM,CAACT,GAAD,CAAnCS,IAA2C,GAAzG;IACH;;;WAED,uBAAc;MACV,IAAOP,KAAP,GAAgB,KAAKH,KAAL,CAATG,KAAP;MACA,gDAAuCQ,UAAU,CAACR,KAAD,CAAVQ,CAAkBC,OAAlBD,CAA0B,CAA1BA,CAAvC;IACH;;;WAED,kBAAS;MACL,KAAKL,QAAL,CAAcG,aAAd,CAA4B,eAA5B,EAA6CI,SAA7C,GAAyD,KAAKC,WAAL,EAAzD;;MACA,WAA8C,CAAC,KAAKR,QAAN,EAAgB,KAAKA,QAAL,CAAcG,aAAd,CAA4B,eAA5B,CAAhB,EAA8D,KAAKH,QAAL,CAAcG,aAAd,CAA4B,iBAA5B,CAA9D,EAA8GM,GAA9G,CAAkH,UAACC,EAAD;QAAA,OAAQC,IAAI,CAACC,KAALD,CAAWD,EAAE,CAACG,qBAAHH,GAA2BR,KAAtCS,CAAR;MAAlH,EAA9C;MAAA;MAAA,IAAOG,aAAP;MAAA,IAAsBC,QAAtB;MAAA,IAAgCC,UAAhC;;MACA,IAAGD,QAAQ,GAAGC,UAAXD,IAAyBD,aAA5B,EAA2C;QACvC,KAAKd,QAAL,CAAcG,aAAd,CAA4B,iBAA5B,EAA+CF,KAA/C,CAAqDgB,IAArD,GAA4D,MAA5D;QACA,KAAKjB,QAAL,CAAcG,aAAd,CAA4B,iBAA5B,EAA+CF,KAA/C,CAAqDiB,KAArD,GAA6D,CAA7D;MAEH;IACJ;;;;EA1BqCC,sB;;;AA6B1C,oBAAQ,gCAAR,EAA0C,UAACC,IAAD;EAAA,OAAU,IAAI3B,YAAJ,CAAiB4B,QAAQ,CAAClB,aAATkB,CAAuB,gBAAvBA,CAAjB,EAA2DD,IAA3D,CAAV;AAA1C","names":["ProgressAjax","$data","min","max","value","console","log","$element","style","width","querySelector","Number","parseFloat","toFixed","innerHTML","setTemplate","map","el","Math","round","getBoundingClientRect","progressWidth","barWidth","valueWidth","left","right","Component","data","document"],"sources":["../ui-component/ajax/progressAjax/ProgressAjax.js"],"sourcesContent":["import Component from \"../../../basic/Component.js\";\r\nimport {getData} from \"../../../basic/utils.js\";\r\n\r\nexport default class ProgressAjax extends Component {\r\n    setElements() {\r\n        // const {min, max, value} = progress.dataset;\r\n        // progress.style.width = `${(parseInt(max, 10)-parseInt(min, 10)) * 5}px`;\r\n        // progressBar.style.width = `${parseInt(value, 10) / (parseInt(max, 10)-parseInt(min, 10))* 100}%`;\r\n\r\n        const {min, max, value} = this.$data;\r\n        console.log(this.$data)\r\n        // this.$element.style.width = `${(parseInt(max, 10)-parseInt(min, 10)) * 5}px`;\r\n        this.$element.style.width = `100%`;\r\n        this.$element.querySelector('.progress-bar').style.width = `${Number(value) / (Number(max)-Number(min))* 100}%`;\r\n    }\r\n\r\n    setTemplate() {\r\n        const {value} = this.$data;\r\n        return `<span class=\"progress-value\">${parseFloat(value).toFixed(1)}</span>`\r\n    }\r\n\r\n    render() {\r\n        this.$element.querySelector('.progress-bar').innerHTML = this.setTemplate();\r\n        const [progressWidth, barWidth, valueWidth] = [this.$element, this.$element.querySelector('.progress-bar'), this.$element.querySelector('.progress-value')].map((el) => Math.round(el.getBoundingClientRect().width));\r\n        if(barWidth + valueWidth >= progressWidth) {\r\n            this.$element.querySelector('.progress-value').style.left = 'auto';\r\n            this.$element.querySelector('.progress-value').style.right = 0;\r\n\r\n        }\r\n    }\r\n}\r\n\r\ngetData(\"http://localhost:3000/progress\", (data) => new ProgressAjax(document.querySelector('.progress-ajax'), data));\r\n\r\n"]}