<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Accordion</title>
    <link rel="stylesheet" href="../../accordion/accordion.css">
</head>
<body>

<div id="accordion" class="mykl-accordion">
    <div class="accordion-item">
        <h2 class="accordion-header">
            <div class= "accordion-toggle">
                <span>123</span>
                <span>$name</span>
            </div>
        </h2>
        <div class="accordion-body">
            <table class="accordion-body-item">
                <thead>
                <tr>
                    <th scope="col">순번</th>
                    <th scope="col">이름</th>
                    <th scope="col">제목</th>
                    <th scope="col">날짜</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th scope="row">$sn</th>
                    <td><a href="">$title</a></td>
                    <td>$content</td>
                    <td>$create_date</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<script type="module">
    import {getData} from "../../../basic/utils.js";
    import AccordionAjax from "./AccordionAjax.js";

    const url = "https://55cd23df-29b6-42a8-9e6b-39c371568a01.mock.pstmn.io";
    const temp = {
        1: "폼 컴포넌트",
        2: "유아이 컴포넌트",
    }
    getData(url + "/table", (data) => {
        new AccordionAjax(document.querySelector('#accordion'), {
            data,
            body: {
                data, // accordion_body에
                target: "tbody"
            },
            replace: {
                "href": ({sn}) => url + "/post/" + sn,
                "name": ({sn}) => temp[sn]
            },
            other: ["href", "name"]
        })

    });
</script>
</body>
</html>